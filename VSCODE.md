# üñá VS Code Setup on Linux [Ubuntu]

> üì¢‚ùóüö® **Important Note:** Make sure your compiler is already installed on your host machine.

```bash
# Check if you have compiler installed on your machine
g++ --version

# Otherwise, install the following (for Ubuntu distribution)
sudo apt install g++ gcc -y
```

## Install VS Code

```bash
# Fastest way to install
sudo apt install code -y
```

### Alternative Installation Methods

```bash
# Install via Snap
sudo snap install --classic code

# Or download from Microsoft's official website
# Visit: https://code.visualstudio.com/Download
```

## Install Necessary Extensions

You can navigate to the Extensions tab and install the `C/C++` extension.

### Installing the C/C++ Extension

1. Open VS Code
2. Click on the Extensions icon in the sidebar (or press `Ctrl+Shift+X`)
3. Search for "C/C++"
4. Install the extension by Microsoft (should be the first result)

Alternatively, you can install it via command line:

```bash
code --install-extension ms-vscode.cpptools
```

---

## üöÄ Running C++ Projects with IntelliSense and Debugging

This section covers how to set up and run C++ projects in VS Code with full IntelliSense support and debugging capabilities.

### Project Setup

#### 1. Create Your Project Structure

```bash
# Create project directory
mkdir my-cpp-project
cd my-cpp-project

# Create source file
mkdir src
touch src/main.cpp
```

#### 2. Sample C++ Code

Create a simple `src/main.cpp`:

```cpp
#include <iostream>
#include <vector>

int main() {
    std::cout << "Hello from VS Code!" << std::endl;
    
    std::vector<int> numbers = {1, 2, 3, 4, 5};
    
    for (int num : numbers) {
        std::cout << "Number: " << num << std::endl;
    }
    
    return 0;
}
```

---

### Configuring IntelliSense

IntelliSense provides code completion, parameter info, quick info, and member lists.

#### 1. Create `c_cpp_properties.json`

Press `Ctrl+Shift+P` and search for "C/C++: Edit Configurations (JSON)"

This creates `.vscode/c_cpp_properties.json`:

```json
{
    "configurations": [
        {
            "name": "Linux",
            "includePath": [
                "${workspaceFolder}/**"
            ],
            "defines": [],
            "compilerPath": "/usr/bin/g++",
            "cStandard": "c17",
            "cppStandard": "c++17",
            "intelliSenseMode": "linux-gcc-x64"
        }
    ],
    "version": 4
}
```

**Configuration explained:**

* **includePath**: Where to search for header files
* **compilerPath**: Path to your compiler (verify with `which g++`)
* **cppStandard**: C++ standard version (c++11, c++14, c++17, c++20)
* **intelliSenseMode**: Platform and compiler combination

#### 2. Verify IntelliSense is Working

* Open your `.cpp` file
* Start typing `std::` - you should see autocomplete suggestions
* Hover over functions to see documentation
* Use `Ctrl+Space` to manually trigger IntelliSense

---

### Building Your Project

#### 1. Create `tasks.json` for Build Configuration

Press `Ctrl+Shift+P` ‚Üí "Tasks: Configure Task" ‚Üí "Create tasks.json from template" ‚Üí "Others"

Create `.vscode/tasks.json`:

```json
{
    "version": "2.0.0",
    "tasks": [
        {
            "type": "shell",
            "label": "C++: g++ build active file",
            "command": "/usr/bin/g++",
            "args": [
                "-fdiagnostics-color=always",
                "-g",
                "-Wall",
                "-std=c++17",
                "${fileDirname}/*.cpp",
                "-o",
                "${fileDirname}/${fileBasenameNoExtension}"
            ],
            "options": {
                "cwd": "${fileDirname}"
            },
            "problemMatcher": [
                "$gcc"
            ],
            "group": {
                "kind": "build",
                "isDefault": true
            },
            "detail": "Task generated by VS Code."
        }
    ]
}
```

**Build arguments explained:**

* **-fdiagnostics-color=always**: Colored compiler output
* **-g**: Include debugging information
* **${file}**: Current file being edited
* **-o**: Output file name
* **${fileBasenameNoExtension}**: Output name without extension

#### 2. Build Your Code

* Press `Ctrl+Shift+B` (Run Build Task)
* Or press `Ctrl+Shift+P` ‚Üí "Tasks: Run Build Task"
* Your executable will be created in the same directory as your source file

---

### Debugging Your Code

Debugging allows you to step through code, inspect variables, and find bugs.

#### 1. Create `launch.json` for Debug Configuration

Press `Ctrl+Shift+P` ‚Üí "Debug: Add Configuration" ‚Üí "C++ (GDB/LLDB)" ‚Üí "g++ build and debug active file"

Create `.vscode/launch.json`:

```json
{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "C++: g++ build and debug active file",
            "type": "cppdbg",
            "request": "launch",
            "program": "${fileDirname}/${fileBasenameNoExtension}",
            "args": [],
            "stopAtEntry": false,
            "cwd": "${fileDirname}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                }
            ],
            "preLaunchTask": "C++: g++ build active file",
            "miDebuggerPath": "/usr/bin/gdb"
        }
    ]
}
```

**Debug configuration explained:**

* **program**: Path to the executable to debug
* **args**: Command-line arguments (empty array = no arguments)
* **stopAtEntry**: Stop at the beginning of main() if true
* **MIMode**: Debugger to use (gdb for Linux)
* **preLaunchTask**: Build task to run before debugging
* **externalConsole**: Use VS Code's integrated terminal (false)

#### 2. Using the Debugger

**Setting Breakpoints:**

1. Click in the left margin (gutter) next to line numbers
2. A red dot appears indicating a breakpoint
3. Code execution will pause at this line

**Debug Controls:**

* **F5**: Start debugging
* **F9**: Toggle breakpoint
* **F10**: Step over (execute current line)
* **F11**: Step into (enter function)
* **Shift+F11**: Step out (exit function)
* **F5** (during debug): Continue execution
* **Shift+F5**: Stop debugging

**Debug Views:**

* **Variables**: View local and global variables
* **Watch**: Add expressions to monitor
* **Call Stack**: See function call hierarchy
* **Breakpoints**: Manage all breakpoints

#### 3. Debug Example Workflow

```cpp
#include <iostream>

int add(int a, int b) {
    return a + b;  // Set breakpoint here
}

int main() {
    int x = 5;
    int y = 10;
    int result = add(x, y);  // Set breakpoint here
    std::cout << "Result: " << result << std::endl;
    return 0;
}
```

**Steps:**

1. Set breakpoint on line with `add(x, y)`
2. Press **F5** to start debugging
3. Execution pauses at breakpoint
4. Hover over variables to see values
5. Press **F11** to step into `add()` function
6. Inspect parameters `a` and `b`
7. Press **F10** to step over `return` statement
8. View result in Variables panel

---

### Complete VS Code Configuration Files

Your `.vscode` folder should contain these three files:

```text
my-cpp-project/
‚îú‚îÄ‚îÄ .vscode/
‚îÇ   ‚îú‚îÄ‚îÄ c_cpp_properties.json  # IntelliSense configuration
‚îÇ   ‚îú‚îÄ‚îÄ tasks.json             # Build configuration
‚îÇ   ‚îî‚îÄ‚îÄ launch.json            # Debug configuration
‚îî‚îÄ‚îÄ src/
    ‚îî‚îÄ‚îÄ main.cpp
```

---

## üõ†Ô∏è Using CMake for C++ Projects

CMake is a cross-platform build system generator that makes managing larger C++ projects easier.

### Why Use CMake?

* **Scalability**: Manage multiple source files easily
* **Cross-platform**: Works on Linux, Windows, macOS
* **Dependency management**: Handle libraries and includes automatically
* **Industry standard**: Used in most professional C++ projects

---

### Install CMake and Extensions

#### 1. Install CMake

```bash
# Install CMake
sudo apt install cmake -y

# Verify installation
cmake --version
```

#### 2. Install VS Code CMake Extensions

```bash
# Install CMake Tools extension
code --install-extension ms-vscode.cmake-tools

# Install CMake Language Support
code --install-extension twxs.cmake
```

Or install via Extensions panel:

* Search for "CMake Tools" by Microsoft
* Search for "CMake" by twxs

---

### Creating a CMake Project

#### 1. Project Structure

```bash
# Create project structure
mkdir cmake-project
cd cmake-project
mkdir src include build

# Create source files
touch src/main.cpp
touch include/math_utils.h
touch src/math_utils.cpp
touch CMakeLists.txt
```

Your structure should look like:

```text
cmake-project/
‚îú‚îÄ‚îÄ CMakeLists.txt
‚îú‚îÄ‚îÄ include/
‚îÇ   ‚îî‚îÄ‚îÄ math_utils.h
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main.cpp
‚îÇ   ‚îî‚îÄ‚îÄ math_utils.cpp
‚îî‚îÄ‚îÄ build/              # Generated by CMake
```

#### 2. Sample Code Files

**include/math_utils.h:**

```cpp
#ifndef MATH_UTILS_H
#define MATH_UTILS_H

int add(int a, int b);
int multiply(int a, int b);

#endif
```

**src/math_utils.cpp:**

```cpp
#include "math_utils.h"

int add(int a, int b) {
    return a + b;
}

int multiply(int a, int b) {
    return a * b;
}
```

**src/main.cpp:**

```cpp
#include <iostream>
#include "math_utils.h"

int main() {
    int x = 10;
    int y = 5;
    
    std::cout << "Add: " << add(x, y) << std::endl;
    std::cout << "Multiply: " << multiply(x, y) << std::endl;
    
    return 0;
}
```

---

### Writing CMakeLists.txt

**CMakeLists.txt:**

```cmake
# Minimum CMake version required
cmake_minimum_required(VERSION 3.10)

# Project name and version
project(MyCppProject VERSION 1.0)

# Specify C++ standard
set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED True)

# Include directories
include_directories(include)

# Add executable
add_executable(my_program
    src/main.cpp
    src/math_utils.cpp
)

# Optional: Set output directory
set_target_properties(my_program PROPERTIES
    RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin
)
```

**CMakeLists.txt explained:**

* **cmake_minimum_required**: Minimum CMake version needed
* **project**: Project name and version
* **CMAKE_CXX_STANDARD**: C++ standard (11, 14, 17, 20)
* **include_directories**: Where to find header files
* **add_executable**: Create executable from source files
* **set_target_properties**: Optional output settings

---

### Building with CMake

#### Method 1: Command Line

```bash
# Create build directory
mkdir build
cd build

# Configure project (generates Makefiles)
cmake ..

# Build project
cmake --build .

# Or use make directly
make

# Run the program
./my_program
```

#### Method 2: Using VS Code CMake Tools

**Configure:**

1. Press `Ctrl+Shift+P`
2. Type "CMake: Configure"
3. Select your compiler kit (GCC or Clang)

**Build:**

1. Press `Ctrl+Shift+P`
2. Type "CMake: Build"
3. Or click "Build" in the status bar

**Run:**

1. Press `Ctrl+Shift+P`
2. Type "CMake: Run Without Debugging"
3. Or click the play button in status bar

**Status Bar Quick Actions:**

* Click compiler kit name to change compiler
* Click "Build" to build project
* Click target name to select what to build
* Click play button to run

---

### Debugging CMake Projects

#### 1. Build with Debug Symbols

Add to `CMakeLists.txt`:

```cmake
# Enable debug symbols
set(CMAKE_BUILD_TYPE Debug)

# Or configure from command line:
# cmake -DCMAKE_BUILD_TYPE=Debug ..
```

#### 2. VS Code Launch Configuration

The CMake Tools extension automatically creates debug configurations. Alternatively, create `.vscode/launch.json`:

```json
{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "CMake: Debug",
            "type": "cppdbg",
            "request": "launch",
            "program": "${workspaceFolder}/build/my_program",
            "args": [],
            "stopAtEntry": false,
            "cwd": "${workspaceFolder}",
            "environment": [],
            "externalConsole": false,
            "MIMode": "gdb",
            "setupCommands": [
                {
                    "description": "Enable pretty-printing for gdb",
                    "text": "-enable-pretty-printing",
                    "ignoreFailures": true
                }
            ]
        }
    ]
}
```

#### 3. Debug Your CMake Project

1. Set breakpoints in your source files
2. Press `F5` or click "Debug" in CMake status bar
3. Use standard debug controls (F10, F11, etc.)

---

### Advanced CMake Features

#### Multiple Executables

```cmake
# Multiple programs from same source files
add_executable(program1 src/main1.cpp src/utils.cpp)
add_executable(program2 src/main2.cpp src/utils.cpp)
```

#### External Libraries

```cmake
# Find and link external library
find_package(Boost REQUIRED)
include_directories(${Boost_INCLUDE_DIRS})
target_link_libraries(my_program ${Boost_LIBRARIES})
```

#### Subdirectories

```cmake
# Add subdirectories with their own CMakeLists.txt
add_subdirectory(src)
add_subdirectory(tests)
```

#### Compiler Options

```cmake
# Add compiler warnings
target_compile_options(my_program PRIVATE -Wall -Wextra -Wpedantic)

# Add definitions
target_compile_definitions(my_program PRIVATE DEBUG_MODE)
```

---

### CMake Best Practices

1. **Out-of-source builds**: Always build in a separate `build/` directory
2. **Modern CMake**: Use `target_` commands instead of global settings
3. **Version control**: Add `build/` to `.gitignore`
4. **Clear naming**: Use descriptive target and variable names
5. **Documentation**: Comment complex CMake logic

**Sample .gitignore for CMake projects:**

```gitignore
# Build directory
build/

# CMake generated files
CMakeCache.txt
CMakeFiles/
cmake_install.cmake
Makefile

# Executables
*.exe
*.out
my_program
```

---

## üéØ Quick Reference

### Standard Build & Debug Workflow

```bash
# 1. Write code
# 2. Press Ctrl+Shift+B to build
# 3. Press F5 to debug
```

### CMake Workflow

```bash
# 1. Write CMakeLists.txt
# 2. Ctrl+Shift+P ‚Üí "CMake: Configure"
# 3. Ctrl+Shift+P ‚Üí "CMake: Build"
# 4. F5 to debug
```

### Keyboard Shortcuts

| Action | Shortcut |
|--------|----------|
| Build | `Ctrl+Shift+B` |
| Start Debugging | `F5` |
| Toggle Breakpoint | `F9` |
| Step Over | `F10` |
| Step Into | `F11` |
| Step Out | `Shift+F11` |
| Stop Debugging | `Shift+F5` |
| Command Palette | `Ctrl+Shift+P` |
| IntelliSense | `Ctrl+Space` |

---

## üìö Additional Resources

* [VS Code C++ Documentation](https://code.visualstudio.com/docs/languages/cpp)
* [CMake Tutorial](https://cmake.org/cmake/help/latest/guide/tutorial/index.html)
* [GDB Documentation](https://www.gnu.org/software/gdb/documentation/)
* [C++ Reference](https://en.cppreference.com/)


